<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-BmbxuPwQa2lc/FVzBcNJ7UAyJxM6wuqIj61tLrc4wSX0szH/Ev+nYRRuWlolflfl" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.6.0/dist/umd/popper.min.js" integrity="sha384-KsvD1yqQ1/1+IA7gi3P0tyJcT3vR+NdBTt13hSJ2lnve8agRGXTTyNaBYmCR/Nwi" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta2/dist/js/bootstrap.min.js" integrity="sha384-nsg8ua9HAw1y0W1btsyWgBklPnCUAFLuTMS2G72MMONqmOymq585AcH49TLBQObG" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./css/style.css">
    <title>Kerala Tourism</title>
    <script src="./script.js"></script>
</head>
<body background="./districts/images/bg.jpg">
    <!-- navbar start -->    
  <nav class="navbar navbar-expand-lg shadow p-3 mb-5 bg-transapernt rounded" id="grad"> 
        <div class="container-fluid">
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarTogglerDemo01" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="navbarTogglerDemo01">
            <a class="navbar-brand" href="./index.html"><img src="https://www.keralatourism.org/images/kt/kerala-tourism-title.png?d=18122017" alt="Kerala Tourism"></a>
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
              <li class="nav-item">
                <a class="nav-link clickme danger " aria-current="page" href="./index.html">Home</a>
              </li>
              <li class="nav-item">
                <a class="nav-link clickme danger " href="./district.html">Districts</a>
              </li>
            </ul>
            <a class="nav-link clickme danger" href="./login.html">Log in</a>
            <a class="nav-link clickme danger active" href="./signup.html">Sign Up</a>

          </div>
        </div>
    </nav>
    <!-- navbar end -->
    <!-- Signup form start -->
    <div class="row">
    <div class="col-lg-8">
    <form class="form rounded-lg bg-gradient-dark" action="./validation.html" style="padding: 10px;">
        <div class="form-group col-3 mb-2" style="width: 90%;">
          <label for="exampleInputEmail1">Email address</label>
          <input type="email" required class="form-control" id="email" aria-describedby="emailHelp" placeholder="Enter email">
        </div>
        <div class="form-group col-3 mb-2" style="width: 90%;">
          <label for="exampleInputPassword1">Password</label>
          <input type="password" required class="form-control"  id="exampleInputPassword1" placeholder="Password" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}">
        </div>
        <div class="indicator">
          <span class="weak"></span>
          <span class="medium"></span>
          <span class="strong"></span>
        </div>
          <div class="form-group col-3 mb-2" style="width: 90%;">
            <label for="exampleInputNumber">Mobile Number</label>
            <input type="tele"  required class="form-control" id="mobile" placeholder="Mobile Number" >
          </div>
          <label for="vehicle1">I Agree to terms and conditions</label>
          <input type="checkbox" id="terms" onclick="tick();"> <br>
        <button type="submit" class="btn btn-primary" id="sbtn" disabled>Submit</button>
        
      </form>
      </div>
      <div class="col-lg-2">
        <div class="bubble bubble-bottom-left" id="message" contenteditable>
          <p class="invalid" id ="emailval" style="display: none;"> Email should be of the format abc@xyz.xx(x)(.xxx) </p>
          <p class="invalid" id ="passval1" style="display: none;"> Password Length Minimum 8 Characters </p>
          <p class="invalid" id ="passval2" style="display: none;"> Minumum 1 lowercase Character </p>
          <p class="invalid" id ="passval3" style="display: none;"> Minumum 1 uppercase Character </p>
          <p class="invalid" id ="passval4" style="display: none;"> Minumum 1 numner </p>
          <p class="invalid" id="mobileval1" style="display: none;"> Must contain numbers only </p>
          <p class="invalid" id="mobileval2" style="display: none;"> 10 digit Mobile Number </p>
        </div>
      </div>
      </div>

    <!-- Signup Form end -->
    

    
  <!-- footer -->
  <div class="footer">
    <p>Â©2021 Kerala Tourism Corporation</p>
  </div>
  <!-- footer end -->
 
    
</body>
</html>
<script>
  var flag = false;
  var email = document.getElementById("email");
  var emailmsg = document.getElementById("emailval");
  var pass1 = document.getElementById("exampleInputPassword1");
  var mobilenum = document.getElementById("mobile");
  var passmsg1 = document.getElementById("passval1");
  var passmsg2 = document.getElementById("passval2");
  var passmsg3 = document.getElementById("passval3");
  var passmsg4 = document.getElementById("passval4");
  var mobilemsg1 = document.getElementById("mobileval1");
  var mobilemsg2 = document.getElementById("mobileval2");
  const indicator = document.querySelector(".indicator");
  const weak = document.querySelector(".weak");
  const medium = document.querySelector(".medium");
  const strong = document.querySelector(".strong");
  var sbtn = document.getElementById("sbtn");
  var checkbox = document.getElementById("terms");
  if(flag == true){
    sbtn.disabled = false;
  }
  


  // email validation start
  email.onfocus = function(){
    document.getElementById("message").style.display = "block"; 
    document.getElementById("emailval").style.display = "block"
  }
  email.onblur = function(){
    document.getElementById("message").style.display = "none";
    document.getElementById("emailval").style.display = "none"; 
  }
  email.onkeyup = function(){
    var regex = /^([A-Za-z0-9\-.]+)@([A-Za-z0-9]+).([a-z]{2,3})(.[a-z]{2,3})?$/;
    if(regex.test(email.value)){
      emailval.classList.remove("invalid");
      emailval.classList.add("valid");
      falg = true;
    }
    else{
      emailval.classList.remove("valid");
      emailval.classList.add("invalid");
      flag = false;
    }
  }


  // email validation end

  // password validation start
  
    pass1.onfocus = function(){
      document.getElementById("message").style.display = "block";
      document.getElementById("passval1").style.display = "block";
      document.getElementById("passval2").style.display = "block";
      document.getElementById("passval3").style.display = "block";
      document.getElementById("passval4").style.display = "block";
    }
    pass1.onblur = function(){
      document.getElementById("message").style.display = "none";
      document.getElementById("passval1").style.display = "none";
      document.getElementById("passval2").style.display = "none";
      document.getElementById("passval3").style.display = "none";
      document.getElementById("passval4").style.display = "none";
    }
    pass1.onkeyup = function(){
    // password length
    if(pass1.value.length>=8){
      passmsg1.classList.remove("invalid");
      passmsg1.classList.add("valid");
      flag = true;
    }
    else{
      passmsg1.classList.remove("valid");
      passmsg1.classList.add("invalid");
      flag = false;
    }
    // password lowercase check
    var lowerCaseLetters = /[a-z]/g;
      if(pass1.value.match(lowerCaseLetters)) {  
          passmsg2.classList.remove("invalid");
          passmsg2.classList.add("valid");
          flag = true;
        } 
      else {
          passmsg2.classList.remove("valid");
          passmsg2.classList.add("invalid");
          flag = false;
        }
    // password lowercase check
    var upperCaseLetters = /[A-Z]/g;
      if(pass1.value.match(upperCaseLetters)) {  
        passmsg3.classList.remove("invalid");
        passmsg3.classList.add("valid");
        flag = true;
        } 
      else {
        passmsg3.classList.remove("valid");
        passmsg3.classList.add("invalid");
        flag = false;
        }
    // password number check
    var numbers = /[0-9]/g;
      if(pass1.value.match(numbers)) {  
        passmsg4.classList.remove("invalid");
        passmsg4.classList.add("valid");
        flag = true;
      } 
      else {
        passmsg4.classList.remove("valid");
        passmsg4.classList.add("invalid");
        flag = false;
      }
      // password validation end
      // password strength validation start
      var no;
      let regExpWeak = /[a-z]/;
      let regExpMedium = /\d+/;
      let regExpStrong = /.[!,@,#,$,%,^,&,*,?,_,~,-,(,)]/;
      if(pass1.value != ""){
        indicator.style.display = "block";
        indicator.style.display = "flex";
      if(pass1.value.length <= 3 && (pass1.value.match(regExpWeak) || pass1.value.match(regExpMedium) || pass1.value.match(regExpStrong)))no=1;
      if(pass1.value.length >= 6 && ((pass1.value.match(regExpWeak) && pass1.value.match(regExpMedium)) || (pass1.value.match(regExpMedium) && pass1.value.match(regExpStrong)) || (pass1.value.match(regExpWeak) && pass1.value.match(regExpStrong))))no=2;
      if(pass1.value.length >= 6 && pass1.value.match(regExpWeak) && pass1.value.match(regExpMedium) && pass1.value.match(regExpStrong))no=3;
      if(no==1){
        weak.classList.add("active");
        }
      if(no==2){
            medium.classList.add("active");
        }
      else{
            medium.classList.remove("active");
          }
      if(no==3){
            weak.classList.add("active");
            medium.classList.add("active");
            strong.classList.add("active");
          }
      else{
            strong.classList.remove("active");
          }
    }
    else{
        indicator.style.display = "none";
      }
      
      // password strength validation end
  }
  

  // Mobile number validation start
  mobilenum.onfocus = function(){
    document.getElementById("message").style.display = "block";
    document.getElementById("mobileval1").style.display = "block";
    document.getElementById("mobileval2").style.display = "block";
  }
  mobilenum.onblur = function(){
    
    document.getElementById("message").style.display = "none";
    document.getElementById("mobileval1").style.display = "none";
    document.getElementById("mobileval2").style.display = "none";
  }
  mobilenum.onkeyup = function(){
    // Additional format check
    var addformat = /^\(?([0-9]{3})\)?[-. ]?([0-9]{3})[-. ]?([0-9]{4})$/
    var numformat = /^[0-9]10$/
    if(mobilenum.value.match(addformat) || (mobilenum.value.match(numformat)) ){
      mobilemsg1.classList.remove("invalid");
      mobilemsg1.classList.add("valid");
      mobilemsg2.classList.remove("invalid");
      mobilemsg2.classList.add("valid");
      falg = true;
    }
    else{
      mobilemsg1.classList.remove("valid");
      mobilemsg1.classList.add("invalid");
      mobilemsg2.classList.remove("valid");
      mobilemsg2.classList.add("invalid");
      falg = false;
    }
    
    
  }
  function tick(){
    if (checkbox.checked == true){
      buttoncheck();
      } 
    else {
      sbtn.disabled = true;
  }
  }
  // function to enable button after succesful form validation
  function buttoncheck(){
    if(flag == true){
        sbtn.disabled = false;
      }
      else{
        sbtn.disabled = true;
      }
  }
  
</script>
